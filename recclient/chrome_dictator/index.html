<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Dictator</title>
  </head>
  <body>
    <div class="jumbotron text-center">
      <h1>Dictator</h1>
      <em>You need to run this demo in Google Chrome</em> 
    </div>
    
    
    
    
    <div class="container">
      
      
      
      <div class="row">
	
	<div class="col-md-12">
      	  <div class="wrapper">
	    <canvas class="visualizer" width="640" height="100"></canvas> 
	  </div>	  
	</div>
	
	
	<div class="col-md-12">
	  <image type="button" id="micimage" src="mic.gif"></image>
	</div>
	
      </div>
      
      <div class="row">
	
	
	
	<div class="col-md-12">  
	  <label>Language</label>
	  <select id="lang" class="mr-3">
	    <option selected value="sv-SE">sv-SE</option>
	    <option value="en-UK">en-UK</option>
	    <option value="en-US">en-US</option>
	    <option value="da-DK">da-DK</option>
	  </select>
	  
	  
	  <button type="button" class="btn btn-outline-primary mr-3" id="rec">rec</button>
	  
	  <button type="button" class="btn btn-outline-danger mr-1" id="stopandsend">stop/send</button>
	  
	  
	  <!-- TODO Change to Bootrap 4 .progress -->
	  <progress id="rec_progress" value="0" max="15"></progress> (<em>arbitrary max recording time, 15 secs</em>)
	  
	</div>
	
      </div>
      
      
      <div class="row">
	<div class="col-md-12">
	  <audio id="audio" controls></audio>
	</div>
      </div>
      
      <div class="row">
	<div class="col-md-12">
	  <span style="color: red" id="msg"></span>
	</div>
      </div>
      
      <!-- Recognition result text area -->
      <div class="row">
	<div class="col-md-12" style="border:1px solid #cecece; width: 100vw; height: 50vh;">
	  <!-- <div style="width: 100%; border: none" id="finalresponse"></div> -->
	  <textarea style="height: 0; width: 100%; border: none" id="finalresponse"></textarea>
	  <em><div style="color: grey" id="tempresponse"></div></em>
	</div>
      </div>
      
      <div class="row">
	<div class="col-md-12">
	  <label>Abbrev</label>
	  <input id="input_abbrev"></input>
	  <label>Expansion</label><input id="input_expansion"><br/>
	  <button class="btn btn-outline-primary mr-3" id="add_abbrev_button">Add</button>
	  <button class="btn btn-outline-danger mr-1" id="delete_abbrev_button">Delete</button> <br/>
	</div>
      </div>
      
      
      <div class="row">
	
	<div class="col-md-12">
	  
	  <div style="height:400px;overflow:auto;">
	    <table id="abbrev_table">
	      <thead>
		<tr>
		  <th>Abbrev</th><th>Expansion</th>
		</tr>
	      </thead>
	      
	      <tbody id="abbrev_table_body">
		
	      </tbody>
	      
	    </table>
	  </div>
	</div>
      </div>
      
      
    </div> <!-- <- container -->
    
    
    
    <!-- <button id="stop">stop</button> -->
    
    
    
    
    
    <details open="open">
      <summary>Server response after send:</summary>
      <p><pre id="response"></pre></p>
    </details>
    
    

  </body>
  
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  
  
  
  <script src="../audio.js"></script>
  <script src="chrome_dictator.js"></script>
</html>
